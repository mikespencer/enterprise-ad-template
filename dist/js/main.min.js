/* Built 10-08-2013 */
var wpAd=wpAd||{};wpAd.Enterprise=function(a){"use strict";function b(a){this.configure(a).init().exec()}var c=window.console||{log:function(){}};if(!a)return function(){c.log("jQuery is undefined")};var d={clickTracker:"",clickTrackerEsc:"",clickTag:"",target:"",creative:[],backgroundColor:"#fff",bannerHTML:"",thirdPartyTrackingPixels:[],customStylesheet:""},e=a(window),f=Math.floor(1e9*Math.random());return b.prototype={configure:function(b,c){var e=c||d;return this.config=a.extend(!0,e,b),this},init:function(){return this.$target=a(this.config.target),this.$container=this.buildContainer().appendTo(this.$target),this.config.customStylesheet&&this.$target.append('<link rel="stylesheet" type="text/css" href="'+this.config.customStylesheet+'" />'),this.addPixels(this.config.thirdPartyTrackingPixels),this.addListeners(),this},buildContainer:function(){return a("<div></div>").addClass("enterprise-ad-container").css({position:"relative",margin:"0 auto"})},exec:function(){for(var a=this.$target.outerWidth(),b=this.config.creative,c=b.length,d=null;c--;)if((!b[c].breakpoints[0]||a>=b[c].breakpoints[0])&&(!b[c].breakpoints[1]||a<=b[c].breakpoints[1])){d=c;break}null!==d&&d!==this.currentCreativeIndex&&(this.currentCreativeIndex=d,this.buildEnterpriseAd())},buildEnterpriseAd:function(){var b=this.config.creative[this.currentCreativeIndex];return b.url?(b.width=b.width||b.breakpoints[1]||b.breakpoints[0],b.height=b.height||460,this.$container.empty(),this.$creative=a("<a></a>").addClass("enterprise-ad sz-"+b.width).attr({href:this.config.clickTracker+(b.clickTag||this.config.clickTag),target:"_blank"}).css({display:"block",height:b.height+"px",zIndex:10,textDecoration:"none",position:"relative",background:this.config.backgroundColor+" url("+b.url+") no-repeat center center "+(b.fixed?"fixed":"scroll")}).appendTo(this.$container),this.$container.css({maxWidth:b.width+"px"}),b.banner&&this.config.bannerHTML&&(this.$banner=a(this.config.bannerHTML).appendTo(this.$creative)),void 0):!1},addListeners:function(){var a=this;this.resizing=!1;var b=function(){a.resizing||(a.resizing=!0,a.exec(),a.resizeTimeout=setTimeout(function(){a.resizing=!1},50))};e.on("resize.enterprise",b)},addPixels:function(a){for(var b=a.length;b--;)a[b]&&this.addPixel(a[b])},addPixel:function(b){a(document.createElement("img")).attr({src:b.replace(/timestamp|random|ord/gi,f),height:"1",width:"1",alt:""}).css({border:0,display:"none"}).appendTo(this.$target)}},b}(window.jQuery);